<div class="card card-outline-secondary">
    <div class="card-header">
        <h3 class="mb-0">Change Password</h3>
    </div>
    <div class="card-body">
        <form class="form" role="form" autocomplete="off" [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="inputPasswordOld">Current Password</label>
                <input type="password" class="form-control" id="inputPasswordOld" formControlName="inputPasswordOld" required>
                <div *ngIf="passwordForm.get('inputPasswordOld')?.errors?.['required'] && passwordForm.get('inputPasswordOld')?.touched" class="text-danger">
                    Current password is required.
                </div>
            </div>
            <div class="form-group">
                <label for="inputPasswordNew">New Password</label>
                <input type="password" class="form-control" id="inputPasswordNew" formControlName="inputPasswordNew" required minlength="8" maxlength="20" pattern="[^\s]+">
                <div *ngIf="passwordForm.get('inputPasswordNew')?.errors?.['required'] && passwordForm.get('inputPasswordNew')?.touched" class="text-danger">
                    New password is required.
                </div>
                <div *ngIf="passwordForm.get('inputPasswordNew')?.errors?.['minlength'] && passwordForm.get('inputPasswordNew')?.touched" class="text-danger">
                    New password must be at least 8 characters long.
                </div>
                <div *ngIf="passwordForm.get('inputPasswordNew')?.errors?.['maxlength'] && passwordForm.get('inputPasswordNew')?.touched" class="text-danger">
                    New password cannot exceed 20 characters.
                </div>
                <div *ngIf="passwordForm.get('inputPasswordNew')?.errors?.['pattern'] && passwordForm.get('inputPasswordNew')?.touched" class="text-danger">
                    New password must not contain spaces.
                </div>
            </div>
            <div class="form-group">
                <label for="inputPasswordNewVerify">Verify</label>
                <input type="password" class="form-control" id="inputPasswordNewVerify" formControlName="inputPasswordNewVerify" required>
                <div *ngIf="passwordForm.get('inputPasswordNewVerify')?.errors?.['required'] && passwordForm.get('inputPasswordNewVerify')?.touched" class="text-danger">
                    Please re-enter the new password for verification.
                </div>
                <div *ngIf="passwordForm.get('inputPasswordNewVerify')?.errors?.['mismatch'] && passwordForm.get('inputPasswordNewVerify')?.touched" class="text-danger">
                    Passwords do not match.
                </div>
            </div>
            <div class="form-group text-center">
                <button type="submit" class="btn btn-lg btn-primary mr-2" [disabled]="passwordForm.invalid">Save</button>
                <button type="button" class="btn btn-lg btn-secondary" (click)="onCancel()">Cancel</button>
            </div>
        </form>
    </div>
</div>
